{% extends "main/base.html" %}
{% load static %}

{% block content %}


<div class="filter-bar">
    <form method="get">
        <select name="category">
            <option value="">All Categories</option>
            {% for cat in categories %}
                <option value="{{ cat }}" {% if request.GET.category == cat %}selected{% endif %}>{{ cat }}</option>
            {% endfor %}
        </select>

        <select name="is_edible">
            <option value="">All Plants</option>
            <option value="1" {% if request.GET.is_edible == '1' %}selected{% endif %}>Edible</option>
            <option value="0" {% if request.GET.is_edible == '0' %}selected{% endif %}>Non-Edible</option>
        </select>

        <button type="submit">Filter</button>
    </form>
</div>


<div class="plants-page">
    <div class="page-header">
        <h1>Our Full Collection</h1>
        <p class="subtitle">Explore all the flora we have gathered, from indoor favorites to medicinal herbs.</p>
        <div class="plants-grid">
        </div>
    </div>

    <div class="plants-grid">
        {% for plant in plants %}
        <article class="plant-card">
            <img class="plant-thumb" src="{{ plant.image.url }}" alt="{{ plant.name }}">
            <div class="plant-body">
                <h3 class="plant-title">
                    <a href="{% url 'plants:plant_details_view' plant.id %}">
                        {{ plant.name }}</a>
                </h3>

                <div class="meta-row">
                    <span class="category">{{ plant.category|capfirst }}</span>
                    {% if plant.is_edible %}
                    <span class="edible">üçΩÔ∏è edible</span>
                    {% endif %}
                </div>

                <p class="plant-about">{{ plant.about }}</p>
                <p class="plant-used">{{ plant.used_for }}</p>

                <div class="card-footer">
                    <time class="created" datetime="{{ plant.created_at|date:'c' }}">
                        {{ plant.created_at|date:"M d, Y" }}
                    </time>
                    <a class="view-link" href="{% url 'plants:plant_details_view' plant.id %}">View</a>
                </div>
            </div>
        </article>
        {% empty %}
        <p>No Plants...</p>
        {% endfor %}
    </div>

</div>
{% endblock %}